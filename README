# Projeto de Aprendizado: Django + PostgreSQL + AWS + Docker

Este Ã© um projeto para aprender as principais tecnologias do desenvolvimento web moderno, criando uma aplicaÃ§Ã£o simples com autenticaÃ§Ã£o que roda em containers Docker e Ã© deployada na AWS.

## ğŸ¯ Objetivo
Criar uma pÃ¡gina web simples com sistema de autenticaÃ§Ã£o utilizando:
- **Python** com **Django**
- **PostgreSQL** como banco de dados
- **Docker** para containerizaÃ§Ã£o
- **AWS EC2** para hospedagem

## ğŸ’¼ Arquitetura do Sistema (EscalÃ¡vel)

### ğŸ¯ **VisÃ£o Geral**
Sistema multi-tenant projetado para **comeÃ§ar simples** e **escalar** para gestÃ£o completa de pizzarias.

### ğŸ“ˆ **Roadmap de EvoluÃ§Ã£o**

#### **ğŸš€ Fase 1 - MVP (VocÃª estÃ¡ aqui)**
- âœ… AutenticaÃ§Ã£o bÃ¡sica
- âœ… Cadastro de clientes
- âœ… Dashboard simples

#### **ğŸª Fase 2 - Multi-Pizzaria**
- âœ… Cadastro de pizzarias
- âœ… UsuÃ¡rios vinculados a pizzarias
- âœ… Isolamento de dados por pizzaria

#### **ğŸ• Fase 3 - GestÃ£o Completa**
- âœ… CardÃ¡pio por pizzaria
- âœ… Pedidos e entregas
- âœ… RelatÃ³rios financeiros
- âœ… GestÃ£o de funcionÃ¡rios

### ğŸ—ï¸ **Arquitetura Multi-Tenant**

```
Sistema Principal
â”œâ”€â”€ Pizzaria A
â”‚   â”œâ”€â”€ FuncionÃ¡rios (admin, operador)
â”‚   â”œâ”€â”€ Clientes
â”‚   â”œâ”€â”€ CardÃ¡pio
â”‚   â”œâ”€â”€ Pedidos
â”‚   â””â”€â”€ RelatÃ³rios
â”œâ”€â”€ Pizzaria B
â”‚   â”œâ”€â”€ FuncionÃ¡rios
â”‚   â”œâ”€â”€ Clientes
â”‚   â””â”€â”€ ...
â””â”€â”€ Super Admin (gerencia tudo)
```

### ğŸ‘¥ **Tipos de UsuÃ¡rio (Arquitetura Final)**

#### **ğŸ”§ Super Admin (VocÃª/Sistema)**
- âœ… Criar/gerenciar pizzarias
- âœ… Ver dados de todas as pizzarias
- âœ… ConfiguraÃ§Ãµes globais do sistema

#### **ğŸ‘‘ Admin Pizzaria (Dono/Gerente)**
- âœ… Gerenciar **SUA** pizzaria
- âœ… Cadastrar funcionÃ¡rios da pizzaria
- âœ… Cadastrar clientes da pizzaria
- âœ… Ver relatÃ³rios da pizzaria
- âŒ **NÃƒO** vÃª dados de outras pizzarias

#### **ğŸ‘¨â€ğŸ’¼ FuncionÃ¡rio Pizzaria**
- âœ… Cadastrar clientes da pizzaria
- âœ… Fazer pedidos
- âœ… Ver cardÃ¡pio da pizzaria
- âŒ **NÃƒO** acessa relatÃ³rios/configuraÃ§Ãµes

#### **ğŸ‘¤ Cliente**
- âœ… Fazer pedidos
- âœ… Ver histÃ³rico prÃ³prio
- âŒ **NÃƒO** acessa gestÃ£o

### ğŸ¯ **Funcionalidades MVP (Fase 1) - Super Simples**

**Apenas 2 tipos de usuÃ¡rio:**

#### **ğŸ”§ Super Admin (VocÃª):**
- âœ… Login/Logout
- âœ… **Cadastrar pizzarias**
- âœ… **Listar pizzarias cadastradas**
- âœ… Dashboard administrativo
- âœ… Gerenciar sistema completo

#### **ğŸ• UsuÃ¡rio Pizzaria (Dono da Pizzaria):**
- âœ… Login/Logout
- âœ… **Interface de boas-vindas simples**
- âœ… Ver dados da sua pizzaria
- âŒ (Funcionalidades avanÃ§adas virÃ£o nas prÃ³ximas fases)

> **ğŸ“ Fluxo**: VocÃª cadastra uma pizzaria â†’ Cria login para o dono â†’ Dono acessa e vÃª boas-vindas

### ğŸ”„ **PreparaÃ§Ã£o para Escalabilidade**

**Modelos preparados para crescer:**
- `User` â†’ UsuÃ¡rio base (Django)
- `Pizzaria` â†’ Tenant principal 
- `UsuarioPizzaria` â†’ Relaciona usuÃ¡rio + pizzaria + papel
- `Cliente` â†’ Pertence a uma pizzaria especÃ­fica

> **ğŸ’¡ EstratÃ©gia**: ComeÃ§amos com 1 pizzaria padrÃ£o, depois permitimos criar mÃºltiplas!

## ğŸ“‹ PrÃ©-requisitos

Antes de comeÃ§ar, vocÃª precisa ter instalado:
- [ ] Python 3.8+
- [ ] Git
- [ ] Docker e Docker Compose
- [ ] Conta na AWS
- [ ] Editor de cÃ³digo (VS Code, PyCharm, etc.)

## ğŸš€ Passo a Passo

### Fase 1: PreparaÃ§Ã£o do Ambiente Local

#### 1. Criar ambiente virtual Python
```bash
# Criar ambiente virtual
python -m venv venv

# Ativar no Windows
venv\Scripts\activate

# Ativar no Linux/Mac
source venv/bin/activate
```

#### 2. Instalar Django e dependÃªncias
```bash
pip install django psycopg2-binary python-decouple
pip freeze > requirements.txt
```

### Fase 2: CriaÃ§Ã£o do Projeto Django

#### 3. Criar projeto Django
```bash
# Criar projeto na pasta atual (note o ponto!)
django-admin startproject meu_projeto .

# Criar app (manage.py estÃ¡ na pasta atual, NÃƒO entrar em meu_projeto/)
python manage.py startapp autenticacao
```

#### 4. Configurar settings.py
- [x] Adicionar o app 'autenticacao' em INSTALLED_APPS
- [x] Configurar conexÃ£o com PostgreSQL
- [x] Configurar variÃ¡veis de ambiente com python-decouple
- [] Configurar ALLOWED_HOSTS para produÃ§Ã£o

#### 5. Criar modelos de dados (MVP Simplificado)
- [x] Criar modelo **Pizzaria** (dados bÃ¡sicos da pizzaria)
- [x] Criar modelo **UsuarioPizzaria** (relaciona usuÃ¡rio com pizzaria)
- [x] Definir apenas 2 papÃ©is: 'super_admin' e 'dono_pizzaria'
- [x] Configurar relacionamentos bÃ¡sicos
- [ ] ~~Criar modelo Cliente~~ (nÃ£o precisa na Fase 1)

#### 6. Criar views de autenticaÃ§Ã£o e gestÃ£o (MVP)
- [x] Criar pÃ¡gina de login
- [x] Criar no super usuario um jeito de cadastrar usuario do sistema
- [x] Criar dashboard do Super Admin (vocÃª)
- [x] Criar pÃ¡gina de **cadastro de pizzaria** (sÃ³ super admin)
- [x] Criar pÃ¡gina de **lista de pizzarias** (sÃ³ super admin)
- [x] Criar **interface de boas-vindas** (dono da pizzaria)
- [x] Configurar URLs
- [x] Implementar decorador @super_admin_required

#### 6. Criar ferramentas de gestÃ£o para o dono da pizzaria.
- [x] Criar tela de Ingredientes
- [x] Criar tela de formulario para adicionar Novo Ingrediente
- [x] Criar banco de dados para os Ingredientes
- [x] Criar Tela de Produtos
- [x] Adicionar novo produtos
- [x] Adicionar model para produtos
- [x] Adicionar funcionalidades para adicionar um Novo Produto

#### 9. Executar migraÃ§Ãµes
```bash
python manage.py makemigrations
python manage.py migrate
python manage.py createsuperuser
```

### Fase 4: ContainerizaÃ§Ã£o com Docker

#### 10. Criar Dockerfile
- [ ] Criar Dockerfile para a aplicaÃ§Ã£o Django
- [ ] Definir imagem base Python
- [ ] Instalar dependÃªncias
- [ ] Configurar entrypoint

#### 11. Criar docker-compose.yml
- [ ] ServiÃ§o para aplicaÃ§Ã£o Django
- [ ] ServiÃ§o para PostgreSQL
- [ ] Configurar volumes
- [ ] Configurar redes
- [ ] Configurar variÃ¡veis de ambiente

#### 12. Testar localmente
```bash
docker-compose up --build
```

### Fase 5: Deploy na AWS EC2

#### 13. Preparar instÃ¢ncia EC2
- [ ] Criar instÃ¢ncia EC2 (Ubuntu/Amazon Linux)
- [ ] Configurar Security Groups (portas 22, 80, 443)
- [ ] Conectar via SSH
- [ ] Instalar Docker e Docker Compose na instÃ¢ncia

#### 14. Transferir cÃ³digo para EC2
- [ ] Configurar repositÃ³rio Git
- [ ] Clonar projeto na instÃ¢ncia EC2
- [ ] Configurar variÃ¡veis de ambiente de produÃ§Ã£o

#### 15. Executar na produÃ§Ã£o
```bash
# Na instÃ¢ncia EC2
docker-compose -f docker-compose.prod.yml up -d
```

### Fase 6: ConfiguraÃ§Ãµes de ProduÃ§Ã£o

#### 16. Configurar domÃ­nio (opcional)
- [ ] Registrar domÃ­nio
- [ ] Configurar DNS apontando para o IP da EC2
- [ ] Configurar SSL com Let's Encrypt

#### 17. Configurar backup do banco
- [ ] Script de backup automÃ¡tico
- [ ] Armazenamento no S3

## ğŸ“ Estrutura Final do Projeto
```
meu_projeto/
â”œâ”€â”€ meu_projeto/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ settings.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â””â”€â”€ wsgi.py
â”œâ”€â”€ autenticacao/
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”œâ”€â”€ login.html
â”‚   â”‚   â”œâ”€â”€ dashboard_super_admin.html    # VocÃª - cadastrar/listar pizzarias
â”‚   â”‚   â”œâ”€â”€ cadastro_pizzaria.html        # FormulÃ¡rio cadastro pizzaria
â”‚   â”‚   â”œâ”€â”€ lista_pizzarias.html          # Lista todas as pizzarias
â”‚   â”‚   â””â”€â”€ boas_vindas_pizzaria.html     # Interface do dono da pizzaria
â”‚   â”œâ”€â”€ views.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â”œâ”€â”€ models.py       # Pizzaria, UsuarioPizzaria (sÃ³ 2 papÃ©is)
â”‚   â””â”€â”€ decorators.py   # @super_admin_required
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ base.html
â”œâ”€â”€ static/
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ docker-compose.prod.yml
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ .env
â””â”€â”€ README.md
```

## ğŸ”§ Comandos Ãšteis

### Django
```bash
# Executar servidor local
python manage.py runserver

# Criar migraÃ§Ãµes
python manage.py makemigrations

# Aplicar migraÃ§Ãµes
python manage.py migrate

# Criar superusuÃ¡rio
python manage.py createsuperuser
```

### Docker
```bash
# Construir e executar
docker-compose up --build

# Executar em background
docker-compose up -d

# Ver logs
docker-compose logs

# Parar containers
docker-compose down
```

### AWS
```bash
# Conectar via SSH
ssh -i sua-chave.pem ubuntu@ip-da-instancia

# Copiar arquivos via SCP
scp -i sua-chave.pem arquivo.txt ubuntu@ip-da-instancia:~/
```

## ğŸ“š Recursos para Aprendizado

### DocumentaÃ§Ã£o Oficial
- [Django Documentation](https://docs.djangoproject.com/)
- [PostgreSQL Documentation](https://www.postgresql.org/docs/)
- [Docker Documentation](https://docs.docker.com/)
- [AWS EC2 Documentation](https://docs.aws.amazon.com/ec2/)

### Tutoriais Recomendados
- Django Tutorial Oficial
- Docker para Iniciantes
- AWS EC2 Getting Started

## â“ Checklist de ConclusÃ£o (MVP Simplificado)

### Desenvolvimento Local
- [ ] Projeto Django criado e funcionando localmente
- [ ] Modelos **Pizzaria** e **UsuarioPizzaria** criados
- [ ] Sistema de autenticaÃ§Ã£o implementado
- [ ] 2 tipos de usuÃ¡rio funcionando: super_admin e dono_pizzaria
- [ ] PostgreSQL configurado e conectado
- [ ] Dashboard **Super Admin** funcionando
- [ ] **Cadastro de pizzarias** (sÃ³ super admin) funcionando
- [ ] **Lista de pizzarias** (sÃ³ super admin) funcionando
- [ ] **Interface de boas-vindas** (dono pizzaria) funcionando

### Docker e Deploy
- [ ] AplicaÃ§Ã£o rodando em Docker localmente
- [ ] Deploy realizado com sucesso na AWS EC2
- [ ] Sistema completo funcionando na produÃ§Ã£o

### Testes de Funcionalidade (MVP)
- [ ] Super Admin consegue fazer login
- [ ] Super Admin consegue **cadastrar pizzarias**
- [ ] Super Admin consegue **ver lista de pizzarias**
- [ ] Dono da pizzaria consegue fazer login
- [ ] Dono da pizzaria vÃª **interface de boas-vindas da SUA pizzaria**
- [ ] Sistema de logout funciona para ambos perfis
- [ ] **Isolamento**: Dono sÃ³ vÃª dados da prÃ³pria pizzaria
- [ ] **PermissÃµes**: Dono nÃ£o acessa funcionalidades de super admin

## ğŸ†˜ Onde Buscar Ajuda

1. **DocumentaÃ§Ã£o oficial** das tecnologias
2. **Stack Overflow** para problemas especÃ­ficos
3. **GitHub** para exemplos de cÃ³digo
4. **YouTube** para tutoriais visuais
5. **Reddit** (r/django, r/aws) para discussÃµes

---

## ğŸ“ AnotaÃ§Ãµes e DÃºvidas

Use este espaÃ§o para anotar suas dÃºvidas e descobertas durante o desenvolvimento:

### DÃºvidas Frequentes
- Como configurar variÃ¡veis de ambiente?
- Qual a diferenÃ§a entre settings de desenvolvimento e produÃ§Ã£o?
- Como debuggar problemas no Docker?
- Como configurar HTTPS na AWS?

## ğŸ—ï¸ Arquitetura dos Modelos (Detalhada)

### ğŸ¯ **EstratÃ©gia de Escalabilidade**

**MVP (Fase 1)**: 1 pizzaria padrÃ£o + autenticaÃ§Ã£o bÃ¡sica  
**Futuro (Fase 2+)**: N pizzarias independentes

### ğŸ“Š **Modelos Principais**

#### **1. Pizzaria (Tenant)**
```python
class Pizzaria(models.Model):
    nome = models.CharField(max_length=100)
    cnpj = models.CharField(max_length=14, unique=True)
    endereco = models.TextField()
    telefone = models.CharField(max_length=15)
    ativa = models.BooleanField(default=True)
    criada_em = models.DateTimeField(auto_now_add=True)
    
    # Futuro: configuraÃ§Ãµes especÃ­ficas da pizzaria
    # cor_tema, logo, configuraÃ§Ãµes_delivery, etc.
```

#### **2. UsuarioPizzaria (MVP - SÃ³ 2 PapÃ©is)**
```python
class UsuarioPizzaria(models.Model):
    PAPEIS = [
        ('super_admin', 'Super Admin'),           # VocÃª (cadastra pizzarias)
        ('dono_pizzaria', 'Dono da Pizzaria'),    # Dono - sÃ³ vÃª boas-vindas
    ]
    
    usuario = models.ForeignKey(User, on_delete=models.CASCADE)
    pizzaria = models.ForeignKey(Pizzaria, on_delete=models.CASCADE, null=True, blank=True)  # Super admin nÃ£o tem pizzaria especÃ­fica
    papel = models.CharField(max_length=20, choices=PAPEIS)
    ativo = models.BooleanField(default=True)
    criado_em = models.DateTimeField(auto_now_add=True)
```

#### **3. Cliente (Futuras Fases)**
```python
# â­ï¸ NÃƒO IMPLEMENTAR AGORA - sÃ³ nas prÃ³ximas fases
# class Cliente(models.Model):
#     pizzaria = models.ForeignKey(Pizzaria, on_delete=models.CASCADE)
#     nome = models.CharField(max_length=100)
#     # ... outros campos virÃ£o depois
```

### ğŸ” **Sistema de PermissÃµes (MVP)**

#### **Views do Super Admin:**
```python
# views.py - SÃ³ vocÃª pode cadastrar pizzarias
@super_admin_required
def cadastrar_pizzaria(request):
    # SÃ³ super_admin acessa
    if request.method == 'POST':
        # Criar pizzaria + usuÃ¡rio dono
        pass
    return render(request, 'cadastro_pizzaria.html')

@super_admin_required  
def listar_pizzarias(request):
    pizzarias = Pizzaria.objects.all()  # Super admin vÃª todas
    return render(request, 'lista_pizzarias.html', {'pizzarias': pizzarias})
```

#### **Views do Dono da Pizzaria:**
```python
# views.py - Dono sÃ³ vÃª boas-vindas da SUA pizzaria
@dono_pizzaria_required
def boas_vindas(request):
    user_pizzaria = request.user.usuariopizzaria_set.first()
    pizzaria = user_pizzaria.pizzaria  # Sua pizzaria especÃ­fica
    return render(request, 'boas_vindas_pizzaria.html', {'pizzaria': pizzaria})
```

#### **Decoradores de PermissÃ£o:**
```python
# decorators.py
def super_admin_required(view_func):
    def wrapper(request, *args, **kwargs):
        if not request.user.usuariopizzaria_set.filter(papel='super_admin').exists():
            return redirect('login')
        return view_func(request, *args, **kwargs)
    return wrapper

def dono_pizzaria_required(view_func):
    def wrapper(request, *args, **kwargs):
        if not request.user.usuariopizzaria_set.filter(papel='dono_pizzaria').exists():
            return redirect('login')
        return view_func(request, *args, **kwargs)
    return wrapper
```

### ğŸš€ **EvoluÃ§Ã£o do Sistema**

#### **Hoje (MVP Super Simples):**
```python
# VocÃª Ã© o super admin (criado uma vez)
UsuarioPizzaria.objects.create(
    usuario=voce,  # seu usuÃ¡rio
    pizzaria=None,  # Super admin nÃ£o tem pizzaria especÃ­fica
    papel='super_admin'
)

# Quando vocÃª cadastra uma pizzaria:
nova_pizzaria = Pizzaria.objects.create(
    nome="Pizza do JoÃ£o",
    cnpj="12345678000199",
    endereco="Rua A, 123",
    telefone="11999999999"
)

# E cria o usuÃ¡rio dono da pizzaria:
UsuarioPizzaria.objects.create(
    usuario=novo_dono,
    pizzaria=nova_pizzaria,
    papel='dono_pizzaria'
)
```

#### **Futuro (Funcionalidades AvanÃ§adas):**
```python
# Pizzaria pode ter funcionÃ¡rios
UsuarioPizzaria.objects.create(
    usuario=funcionario,
    pizzaria=pizzaria_joao,
    papel='funcionario'
)

# Pizzaria pode ter clientes
Cliente.objects.create(
    pizzaria=pizzaria_joao,
    nome="Cliente A",
    telefone="11888888888"
)

# E muito mais: cardÃ¡pio, pedidos, relatÃ³rios...
```

### ğŸ’¡ **Vantagens desta Arquitetura**

âœ… **Escalabilidade**: FÃ¡cil adicionar novas pizzarias  
âœ… **Isolamento**: Dados de uma pizzaria nÃ£o vaza para outra  
âœ… **Flexibilidade**: Diferentes papÃ©is por pizzaria  
âœ… **MVP Simples**: ComeÃ§a com 1 pizzaria, cresce naturalmente  
âœ… **Futuro-proof**: Preparado para features avanÃ§adas  

### PrÃ³ximos Passos (ApÃ³s completar o projeto bÃ¡sico)
- [ ] Implementar testes automatizados
- [ ] Adicionar CI/CD com GitHub Actions
- [ ] Configurar monitoramento e logs
- [ ] Implementar cache com Redis
- [ ] Adicionar CDN para arquivos estÃ¡ticos
- [ ] **Evoluir para multi-pizzaria** ğŸ•

---

## ğŸ¯ **Resumo do MVP (Para nÃ£o esquecer)**

### **O que vocÃª vai construir:**

**2 funcionalidades principais:**

#### **1. VocÃª (Super Admin):**
- âœ… Faz login no sistema
- âœ… Acessa dashboard administrativo
- âœ… **Cadastra pizzarias** com dados bÃ¡sicos (nome, CNPJ, endereÃ§o, telefone)
- âœ… **Lista todas as pizzarias** cadastradas
- âœ… Cria usuÃ¡rios "dono da pizzaria" para cada pizzaria

#### **2. Dono da Pizzaria:**
- âœ… Recebe login/senha que vocÃª criou
- âœ… Faz login no sistema
- âœ… VÃª **interface de boas-vindas simples** 
- âœ… Visualiza **dados da SUA pizzaria**
- âŒ **NÃƒO** vÃª outras pizzarias
- âŒ **NÃƒO** pode cadastrar novas pizzarias

### **Fluxo completo:**
```
1. VocÃª cria o projeto e vira super admin
2. VocÃª cadastra "Pizzaria do JoÃ£o" 
3. Sistema cria usuÃ¡rio "joao" (dono da pizzaria)
4. JoÃ£o faz login e vÃª: "Bem-vindo Ã  Pizzaria do JoÃ£o!"
5. VocÃª cadastra "Pizzaria da Maria"
6. Sistema cria usuÃ¡rio "maria" (dona da pizzaria)  
7. Maria faz login e vÃª: "Bem-vindo Ã  Pizzaria da Maria!"
8. JoÃ£o NÃƒO vÃª dados da Maria, e vice-versa
```

### **Tecnologias:**
- **Django** (web framework)
- **PostgreSQL** (banco de dados)
- **Docker** (containers)
- **AWS EC2** (hospedagem)

**Simples, escalÃ¡vel e funcional!** ğŸš€

---

*Lembre-se: o objetivo Ã© APRENDER! NÃ£o tenha pressa, entenda cada passo antes de prosseguir.*

Vou analisar o sistema atual para entender melhor a estrutura e depois descrever como seria a Ã¡rea financeira da pizzaria.
Ran tool
Ran tool
Ran tool
Vou examinar os modelos diretamente para entender a estrutura atual:
Ran tool
Ran tool
Ran tool
Ran tool
Agora vou examinar as views do estoque para entender melhor os relatÃ³rios existentes:
Ran tool
Agora vou criar um plano para a Ã¡rea financeira da pizzaria:
Ran tool
Baseado na anÃ¡lise do seu sistema atual, vou descrever como seria a Ã¡rea financeira da pizzaria. Observei que vocÃª jÃ¡ tem uma base sÃ³lida com:

## **Estrutura Atual do Sistema**
- **Estoque**: Controle completo de ingredientes, fornecedores, compras e custos [[memory:6553120]]
- **Produtos**: CÃ¡lculo automÃ¡tico de custos baseado nos ingredientes
- **Pedidos**: Sistema de pedidos com status "ENTREGUE" (que sÃ£o suas vendas)
- **Clientes**: Base de clientes com histÃ³rico de compras

## **Ãrea Financeira Proposta**

### **1. MÃ³dulo de Receitas e Vendas** ğŸ“Š
```
Funcionalidades:
â€¢ Dashboard de vendas diÃ¡rias/mensais/anuais
â€¢ AnÃ¡lise de vendas por produto, categoria e perÃ­odo
â€¢ Ticket mÃ©dio por cliente e por perÃ­odo
â€¢ Produtos mais vendidos e menos vendidos
â€¢ AnÃ¡lise de sazonalidade
â€¢ Metas de vendas vs. realizado
```

### **2. MÃ³dulo de Custos e Despesas** ğŸ’°
```
Funcionalidades:
â€¢ Custos de ingredientes (jÃ¡ implementado)
â€¢ Despesas fixas (aluguel, energia, Ã¡gua, internet, funcionÃ¡rios)
â€¢ Despesas variÃ¡veis (delivery, embalagens, marketing)
â€¢ Controle de impostos e taxas
â€¢ AnÃ¡lise de custos por produto vs. preÃ§o de venda
â€¢ RelatÃ³rio de margem de contribuiÃ§Ã£o
```

### **3. MÃ³dulo de Fluxo de Caixa** ğŸ’¸
```
Funcionalidades:
â€¢ Entradas: vendas por forma de pagamento (PIX, dinheiro, cartÃ£o)
â€¢ SaÃ­das: compras de estoque + despesas operacionais
â€¢ Saldo diÃ¡rio/mensal
â€¢ ProjeÃ§Ãµes de fluxo de caixa
â€¢ Controle de contas a pagar e receber
â€¢ ConciliaÃ§Ã£o bancÃ¡ria
```

### **4. MÃ³dulo de AnÃ¡lise Financeira** ğŸ“ˆ
```
Funcionalidades:
â€¢ DRE (DemonstraÃ§Ã£o do Resultado do ExercÃ­cio) simplificada
â€¢ Indicadores: ROI, margem lÃ­quida, ponto de equilÃ­brio
â€¢ AnÃ¡lise ABC de produtos (mais lucrativos)
â€¢ Comparativo mensal/anual
â€¢ Alertas de performance (vendas baixas, custos altos)
```

### **5. MÃ³dulo de Controle de Estoque Financeiro** ğŸ“¦
```
Funcionalidades:
â€¢ Valor total do estoque em tempo real
â€¢ AnÃ¡lise de giro de estoque
â€¢ Produtos com baixa rotatividade
â€¢ Impacto financeiro de desperdÃ­cios
â€¢ PrevisÃ£o de compras baseada em vendas
```
Ran tool
## **RelatÃ³rios Financeiros Essenciais**

### **ğŸ“Š Dashboard Executivo**
- **Receita do Dia/MÃªs**: Total de pedidos entregues
- **Custos do PerÃ­odo**: Compras + despesas operacionais  
- **Lucro Bruto**: Receita - Custos diretos
- **Margem %**: (Lucro Ã· Receita) Ã— 100
- **Pedidos por Status**: Acompanhamento operacional
- **Top 5 Produtos**: Mais vendidos e mais lucrativos

### **ğŸ’° RelatÃ³rio de Rentabilidade por Produto**
```
Para cada produto mostrar:
â€¢ PreÃ§o de Venda vs. Custo dos Ingredientes
â€¢ Margem de ContribuiÃ§Ã£o (R$ e %)
â€¢ Volume de Vendas no perÃ­odo
â€¢ Receita Total gerada
â€¢ Lucro Total por produto
â€¢ Ranking de lucratividade
```

### **ğŸ“ˆ AnÃ¡lise de Performance Mensal**
- **EvoluÃ§Ã£o das Vendas**: Comparativo mÃªs a mÃªs
- **AnÃ¡lise de Custos**: VariaÃ§Ã£o dos custos de ingredientes
- **EficiÃªncia Operacional**: Ticket mÃ©dio, tempo de preparo
- **AnÃ¡lise de Clientes**: Novos vs. recorrentes, frequÃªncia
- **Sazonalidade**: Identificar padrÃµes de demanda

## **ImplementaÃ§Ã£o Sugerida**

### **Fase 1 - Base Financeira** ğŸ—ï¸
1. **Criar app `financeiro`** com modelos:
   - `DespesaOperacional` (aluguel, funcionÃ¡rios, energia)
   - `MovimentacaoCaixa` (entradas e saÃ­das)
   - `MetaVenda` (metas mensais por categoria)

2. **Integrar com dados existentes**:
   - Pedidos entregues = Receitas
   - Compras de ingredientes = Custos diretos
   - Calcular margem por produto automaticamente

### **Fase 2 - RelatÃ³rios e Dashboards** ğŸ“Š
1. **Dashboard financeiro principal**
2. **RelatÃ³rios de rentabilidade**  
3. **AnÃ¡lise de fluxo de caixa**
4. **Indicadores de performance**

### **Fase 3 - AnÃ¡lises AvanÃ§adas** ğŸ¯
1. **PrevisÃµes de vendas**
2. **OtimizaÃ§Ã£o de cardÃ¡pio**
3. **AnÃ¡lise de preÃ§os competitivos**
4. **Controle orÃ§amentÃ¡rio**

## **BenefÃ­cios Esperados**

âœ… **Visibilidade Total**: Saber exatamente quanto ganha e gasta  
âœ… **DecisÃµes Baseadas em Dados**: Quais produtos manter/remover  
âœ… **Controle de Custos**: Identificar onde economizar  
âœ… **OtimizaÃ§Ã£o de PreÃ§os**: Ajustar margens por produto  
âœ… **Planejamento**: ProjeÃ§Ãµes e metas realistas  
âœ… **Competitividade**: Entender sua posiÃ§Ã£o no mercado  
Ran tool
## **Ideias Adicionais EspecÃ­ficas para Pizzaria**

### **ğŸ• AnÃ¡lises EspecÃ­ficas do NegÃ³cio**
- **AnÃ¡lise por HorÃ¡rio**: Identificar picos de vendas (almoÃ§o, jantar, madrugada)
- **AnÃ¡lise por Dia da Semana**: PadrÃµes de consumo (fim de semana vs. dias Ãºteis)
- **AnÃ¡lise de Delivery vs. BalcÃ£o**: Rentabilidade por canal
- **Controle de DesperdÃ­cio**: Ingredientes vencidos, sobras, devoluÃ§Ãµes

### **ğŸ“± IntegraÃ§Ãµes Futuras**
- **Apps de Delivery**: Integrar custos das plataformas (iFood, Uber Eats)
- **Maquininhas de CartÃ£o**: Importar vendas automaticamente
- **Sistemas de PDV**: SincronizaÃ§Ã£o em tempo real

### **ğŸ¯ KPIs EspecÃ­ficos**
- **Custo por Pizza**: Ingredientes + mÃ£o de obra + overhead
- **Tempo vs. Lucro**: Produtos que demoram muito vs. margem
- **FidelizaÃ§Ã£o**: Valor vitalÃ­cio do cliente (LTV)
- **EficiÃªncia da Cozinha**: Produtividade por funcionÃ¡rio

Seu sistema jÃ¡ tem uma base muito sÃ³lida! A Ã¡rea financeira seria uma evoluÃ§Ã£o natural que transformaria os dados que vocÃª jÃ¡ coleta em insights poderosos para tomar decisÃµes estratÃ©gicas e aumentar a lucratividade da pizzaria.

Gostaria que eu detalhe algum mÃ³dulo especÃ­fico ou comece a implementaÃ§Ã£o de alguma funcionalidade?